@page "/Dir/CountryAdd"
@inject CountryController MainController

<AuthorizeView Roles="@admSer.GetRolesList("CountryAdd")" Context="authContext">
<Authorized>
<EditForm Model="@objMain" OnValidSubmit="@Create">  
    <FluentValidationValidator />  
    <ValidationSummary/>
    <WrPnlElm>
    <ControlQuickAccess>
    <input type="submit" class="btn bnt-style-general"  value="@trs.GetTranslation("Save",@AppData.ActiveUser,"General")" >
    <input type="button" class="btn bnt-style-general" @onclick="@Cancel" value="@trs.GetTranslation("Cancel",@AppData.ActiveUser,"General")">
    </ControlQuickAccess>
    </WrPnlElm>
  <WrFormBody>
        <FormElements>

            <WrFieldStr  FieldCaption="Name"
            TransEntity="General"  @bind-BindingValue ="@objMain.Name"/> 

            <WrFieldStr FieldCaption="FullName"
            TransEntity="General"  @bind-BindingValue ="@objMain.FullName"/>

            <WrFieldStr  FieldCaption="English"
            TransEntity="General"  @bind-BindingValue ="@objMain.English"/>

            <WrFieldStr  FieldCaption="Alpha2"
            TransEntity="General"  @bind-BindingValue ="@objMain.Alpha2"/>

            <WrFieldStr  FieldCaption="Alpha3"
            TransEntity="General"  @bind-BindingValue ="@objMain.Alpha3"/>

            <WrFieldStr FieldCaption="Iso"
            TransEntity="General"  @bind-BindingValue ="@objMain.Iso"/>    
       
       </FormElements>      
    </WrFormBody> 
</EditForm>

</Authorized>
 <NotAuthorized>
       <WrPageNotFound/>
 </NotAuthorized>
</AuthorizeView>


@code{

    [Parameter]
    public string CurrentID { get; set; }

    Country objMain= new Country();
  
     protected  void Create()
     { 
        MainController.Create(objMain);
        NavManager.NavigateTo("/Dir/CountryViewStd/0");
     }

    void Cancel(){
        NavManager.NavigateTo("/Dir/CountryViewStd/0");
    }

}