@page "/Adm/ApplicationRole/View/{CurrentID}"
@inject ApplicationRoleController MainController


<WrAuth PageName="ApplicationRoleEdit"><MainContent>  

<EditForm Model="@objMain" OnValidSubmit="@Update" OnInvalidSubmit="@Cancel" Context="formContext">  
    <FluentValidationValidator />  
    <ValidationSummary/>
    
    <WrPnlElm>
        <ControlQuickAccess>
            <WrOper Category="EditForm" EditOrView=true  TypeInput="button" Txt="Back"  OnClickCallback="Cancel"/> 
       </ControlQuickAccess> 
    </WrPnlElm>

    <WrFormBody>
        <FormElements>
            <WrFieldInt TransEntity="General" FieldCaption="Code" 
            ReadonlyOpt="true" Val="@objMain.Code" />

            <WrFieldStr  FieldCaption="Name" ReadonlyThis="true"
            TransEntity="General"  @bind-BindingValue ="@objMain.Name"/> 

            <WrFieldStr FieldCaption="NormalizedName" ReadonlyThis="true"
            TransEntity="General"  @bind-BindingValue ="@objMain.NormalizedName"/>

            <WrFieldStr  FieldCaption="Description" ReadonlyThis="true"
            TransEntity="General"  @bind-BindingValue ="@objMain.Description"/>

         </FormElements>      
    </WrFormBody>    
    </EditForm>    
</MainContent></WrAuth>


@code{

    [Parameter] public string CurrentID { get; set; }
    ApplicationRole objMain = new ApplicationRole();    
    private string  CancelOrBeckTxt { get; set; } 

    protected override void OnInitialized()
    {
        objMain = MainController.GetById_FirstOrDefault(CurrentID);
    }

    protected void Update()
    {
        MainController.Update(objMain);
        NavManager.NavigateTo("/Adm/ApplicationRole/ViewStd/0");
    }
    void Cancel()
    {
        NavManager.NavigateTo("/Adm/ApplicationRole/ViewStd/0");
    }

  
}