@page "/Adm/ApplicationUser/Delete/{CurrentID}"
@inject ApplicationUserController MainController

<WrAuth PageName="ApplicationUserDelete"><MainContent>  

<EditForm Model="@objMain" OnValidSubmit="@DeleteRow" OnInvalidSubmit="@Cancel" Context="formContext">  
   
    <WrPnlElm>
     <ControlQuickAccess>
             <WrOper Category="EditForm" TypeInput="button" Txt="Cancel"  OnClickCallback="Cancel"/>
             <WrOper Category="EditForm" TypeInput="submit" Txt="Delete"/>
     </ControlQuickAccess>
    </WrPnlElm>

    <WrFormBody>
        <FormElements>
             <WrQuestOrMsg Txt="AreYouSureToDeteteRow"  Color="Black" BackgroundColor="yellow" />
           
            <WrFieldInt TransEntity="General" FieldCaption="Code" 
            Readonly="true" Val="@objMain.Code" />
            
             <WrFieldStr  FieldCaption="UserName" Readonly="true"
            TransEntity="General"  @bind-BindingValue ="@objMain.UserName"/> 

            <WrFieldStr FieldCaption="FirstName" Readonly="true"
            TransEntity="Individual"  @bind-BindingValue ="@objMain.FirstName"/>

            <WrFieldStr  FieldCaption="SecondName" Readonly="true"
            TransEntity="Individual"  @bind-BindingValue ="@objMain.SecondName"/>

            <WrFieldStr  FieldCaption="LastName" Readonly="true"
            TransEntity="Individual"  @bind-BindingValue ="@objMain.LastName"/> 
       
         

        </FormElements>      
    </WrFormBody>    
    </EditForm>    
</MainContent></WrAuth>

@code{
    [Parameter] public string CurrentID { get; set; }
    ApplicationUser objMain = new ApplicationUser();  

    protected override void OnInitialized()
    {
        objMain = MainController.GetById_FirstOrDefault(CurrentID);
    }

    protected void DeleteRow()
    {
        MainController.Delete(objMain);
        NavManager.NavigateTo("/Adm/ApplicationUser/ViewStd/"+CurrentID);
    }
    void Cancel()
    {
        NavManager.NavigateTo("/Adm/ApplicationUser/ViewStd/"+CurrentID);
    }

}