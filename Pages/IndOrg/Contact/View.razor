@page "/IndOrg/Contact/View/{CurrentID}"
@inject ContactController MainController

<WrAuth PageName="ContactEdit"><MainContent>  

<EditForm Model="@objMain" OnValidSubmit="@Cancel" OnInvalidSubmit="@Cancel" Context="formContext">  
    <FluentValidationValidator /> 
    <ValidationSummary/>
    
    <WrPnlElm>
        <ControlQuickAccess>
            <WrOper Category="EditForm" EditOrView=true ReadonlyOther="false" TypeInput="button" Txt="Cancel"  OnClickCallback="Cancel"/> 
          </ControlQuickAccess>
    </WrPnlElm>

    <WrFormBody>
        <FormElements>
            
            <WrFieldInt TransEntity="General" FieldCaption="Code" 
            ReadonlyOpt="true" Val="@objMain.Code" />

           <WrFieldStr ReadonlyThis="true" FieldCaption="Name"
            TransEntity="General"  @bind-BindingValue ="@objMain.Name"/> 

            <WrFieldStr ReadonlyThis="true" FieldCaption="Description"
            TransEntity="General"  @bind-BindingValue ="@objMain.Description"/>

   
        </FormElements>      
    </WrFormBody>    
    </EditForm>    
</MainContent></WrAuth>

@code{
    [Parameter] public string CurrentID { get; set; }
    Contact objMain = new Contact();

    protected override void OnInitialized()
    {
        objMain = MainController.GetContactById(Convert.ToInt32(CurrentID));
   }

    void Cancel()
    {
        NavManager.NavigateTo("/IndOrg/Contact/ViewStd/"+AppData.Individual_IdSelect);
    }
}