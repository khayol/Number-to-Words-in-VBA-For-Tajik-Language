@page "/IndOrg/Contact/ViewStd/{IndividualId}"
@inject ContactController MainController

<WrAuth PageName="ContactViewStd"><MainContent>    
    <WrDataGrid @ref="grid"
                  DataItems="ContactList"
                  Columns="@MainController.columns"
                  SelectedRow="SelectedRowMeth"
                  UniqIdOfRecord="Id"
                  ColumnsToExcludeCSV="Id,IndividualId"
                  PageNameTitle="ContactViewStd::Individual"
                  BackLink=@backLink
                  >
                  
           <ControlQuickAccess>
               <WrSpace Length=2/>
               <WrOper Design="btn" Type="CU" Ico="fa fa-plus"  Link="/IndOrg/Contact/Add/"    LinkId=@IndividualId TxtToolTip="Add" />
               <WrOper Design="btn" Type="R" Ico="fa fa-file"   Link="/IndOrg/Contact/View/"   LinkId=@selectedRow TxtToolTip="View" />
               <WrOper Design="btn" Type="U" Ico="fa fa-pencil" Link="/IndOrg/Contact/Edit/"   LinkId=@selectedRow TxtToolTip="Edit" />
               <WrOper Design="btn" Type="D" Ico="fa fa-trash"  Link="/IndOrg/Contact/Delete/" LinkId=@selectedRow TxtToolTip="Delete" />
            </ControlQuickAccess> 
            
    </WrDataGrid>
   </MainContent></WrAuth>

@code  {  

 #region     Declare
    
   private WrDataGrid<Contact> grid;
    private List<Contact> ContactList;    
    [Parameter] public string IndividualId { get; set;}
    public string  backLink  { get; set; } 
    
    public string  selectedRow  { get; set; }
 
 #endregion  Declare

 #region    BlazorMethods

    protected override void OnInitialized()
    {        
        MainController.Initialized();

        backLink="/IndOrg/Individual/Edit/"+ IndividualId;
        ContactList = MainController.GetContactByIndividualId(int.Parse(IndividualId)).ToList();
    }

#endregion BlazorMethods

#region    Event
    private void SelectedRowMeth(string pSelectedRow)
    {
     selectedRow= pSelectedRow;
    }
 #endregion Event
 
    }
