@page "/IndOrg/Contact/Add/{IndividualId}"
@inject ContactController MainController

<WrAuth PageName="ContactAdd"><MainContent>    
    <EditForm Model="@_objContact" OnValidSubmit="@CreateContact">  
        <FluentValidationValidator />  
        <ValidationSummary/>
        <WrPnlElm>
        <ControlQuickAccess>
            <WrOper Category="EditForm" TypeInput="button" Txt="Cancel"  OnClickCallback="Cancel"/>
            <WrOper Category="EditForm" TypeInput="submit" Txt="Save"/>
        </ControlQuickAccess>
        </WrPnlElm>
    <WrFormBody>
            <FormElements>

                <WrFieldStr FieldCaption="Name"
                TransEntity="General"  @bind-BindingValue ="@_objContact.Name"/>

                <WrFieldStr  FieldCaption="Description"
                TransEntity="General"  @bind-BindingValue ="@_objContact.Description"/>
        
        </FormElements>      
        </WrFormBody> 
    </EditForm>
</MainContent></WrAuth>

@code{

    [Parameter] public string IndividualId { get; set; }
    readonly Contact _objContact= new Contact();
     protected override void OnInitialized()
    {
       _objContact.IndividualId=int.Parse(IndividualId);
    }

    private void CreateContact()
    { 
        MainController.Create(_objContact);
          AppData.GoBrwsNavigation(-1);
    }
    void Cancel(){
         AppData.GoBrwsNavigation(-1);
    }

}