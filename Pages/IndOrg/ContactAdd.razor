@page "/IndOrg/ContactAdd"
@inject ContactController objContactController

<AuthorizeView Roles="@admSer.GetRolesList("ContactAdd")" Context="authContext">
<Authorized>
<EditForm Model="@objContact" OnValidSubmit="@CreateContact">  
    <FluentValidationValidator />  
    <ValidationSummary/>
    <WrPnlElm>
    <ControlQuickAccess>
        <WrOper Category="EditForm" TypeInput="submit" Txt="Save"/>
        <WrOper Category="EditForm" TypeInput="button" Txt="Cancel"  OnClickCallback="Cancel"/>
    </ControlQuickAccess>
    </WrPnlElm>
  <WrFormBody>
        <FormElements>

            <WrFieldStr FieldCaption="Name"
            TransEntity="General"  @bind-BindingValue ="@objContact.Name"/>

            <WrFieldStr  FieldCaption="Description"
            TransEntity="General"  @bind-BindingValue ="@objContact.Description"/>
       
       </FormElements>      
    </WrFormBody> 
</EditForm>

</Authorized>
 <NotAuthorized>
       <WrPageNotFound/>
 </NotAuthorized>
</AuthorizeView>

@code{

     Contact objContact= new Contact();
     protected override void OnInitialized()
    {
       objContact.IndividualId=int.Parse(AppData.Individual_IdSelect);
    }
    protected  void CreateContact()
    { 
        objContactController.Create(objContact);
        NavManager.NavigateTo("/IndOrg/ContactViewStd/"+AppData.Individual_IdSelect);
    }
    void Cancel(){
        NavManager.NavigateTo("/IndOrg/ContactViewStd/"+AppData.Individual_IdSelect);
    }

}